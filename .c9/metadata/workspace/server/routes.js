{"filter":false,"title":"routes.js","tooltip":"/server/routes.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":761,"column":8},"end":{"row":761,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":9},"end":{"row":761,"column":11},"action":"insert","lines":["''"]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":10},"end":{"row":761,"column":11},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":11},"end":{"row":761,"column":12},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":10},"end":{"row":761,"column":12},"action":"remove","lines":["gr"]},{"start":{"row":761,"column":10},"end":{"row":761,"column":22},"action":"insert","lines":["groupprofile"]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":23},"end":{"row":761,"column":24},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":761,"column":24},"end":{"row":762,"column":0},"action":"insert","lines":["",""]},{"start":{"row":762,"column":0},"end":{"row":762,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":6},"end":{"row":762,"column":7},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":7},"end":{"row":762,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":8},"end":{"row":762,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":9},"end":{"row":762,"column":10},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":10},"end":{"row":762,"column":11},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":11},"end":{"row":762,"column":12},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":762,"column":12},"end":{"row":763,"column":0},"action":"insert","lines":["",""]},{"start":{"row":763,"column":0},"end":{"row":763,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":4},"end":{"row":763,"column":6},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":4},"end":{"row":763,"column":5},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":5},"end":{"row":763,"column":6},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":6},"end":{"row":763,"column":7},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":7},"end":{"row":763,"column":8},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":8},"end":{"row":763,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":9},"end":{"row":763,"column":11},"action":"insert","lines":["''"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":10},"end":{"row":763,"column":11},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":11},"end":{"row":763,"column":12},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":12},"end":{"row":763,"column":13},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":13},"end":{"row":763,"column":14},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":14},"end":{"row":763,"column":15},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":15},"end":{"row":763,"column":16},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":16},"end":{"row":763,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":17},"end":{"row":763,"column":18},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":18},"end":{"row":763,"column":19},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":20},"end":{"row":763,"column":21},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":763,"column":21},"end":{"row":764,"column":0},"action":"insert","lines":["",""]},{"start":{"row":764,"column":0},"end":{"row":764,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":6},"end":{"row":764,"column":7},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":7},"end":{"row":764,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":8},"end":{"row":764,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":9},"end":{"row":764,"column":10},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":10},"end":{"row":764,"column":11},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":11},"end":{"row":764,"column":12},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":11},"end":{"row":764,"column":12},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":764,"column":11},"end":{"row":764,"column":12},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":767,"column":0},"end":{"row":778,"column":3},"action":"remove","lines":["  if(userId === 0){","    userModel.getUsersList(Number(start), Number(start) + Number(count), {}, function(status, message, userlist) {","      if(status === errors.restStat_isOk)","        res.status(status).json(userlist);","    });","  }else{","    userModel.getFriends(userId, Number(start), Number(count), function(status, message, userlist) {","      if(status === errors.restStat_isOk)","        res.status(status).json(userlist);","        else console.log(message);","    });","  }"]}]}],[{"group":"doc","deltas":[{"start":{"row":766,"column":2},"end":{"row":767,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":766,"column":0},"end":{"row":766,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":765,"column":3},"end":{"row":766,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":758,"column":6},"end":{"row":758,"column":7},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":758,"column":7},"end":{"row":758,"column":8},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":759,"column":23},"end":{"row":760,"column":0},"action":"insert","lines":["",""]},{"start":{"row":760,"column":0},"end":{"row":760,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":760,"column":0},"end":{"row":771,"column":3},"action":"insert","lines":["  if(userId === 0){","    userModel.getUsersList(Number(start), Number(start) + Number(count), {}, function(status, message, userlist) {","      if(status === errors.restStat_isOk)","        res.status(status).json(userlist);","    });","  }else{","    userModel.getFriends(userId, Number(start), Number(count), function(status, message, userlist) {","      if(status === errors.restStat_isOk)","        res.status(status).json(userlist);","        else console.log(message);","    });","  }"]}]}],[{"group":"doc","deltas":[{"start":{"row":760,"column":0},"end":{"row":760,"column":2},"action":"insert","lines":["  "]},{"start":{"row":761,"column":0},"end":{"row":761,"column":2},"action":"insert","lines":["  "]},{"start":{"row":762,"column":0},"end":{"row":762,"column":2},"action":"insert","lines":["  "]},{"start":{"row":763,"column":0},"end":{"row":763,"column":2},"action":"insert","lines":["  "]},{"start":{"row":764,"column":0},"end":{"row":764,"column":2},"action":"insert","lines":["  "]},{"start":{"row":765,"column":0},"end":{"row":765,"column":2},"action":"insert","lines":["  "]},{"start":{"row":766,"column":0},"end":{"row":766,"column":2},"action":"insert","lines":["  "]},{"start":{"row":767,"column":0},"end":{"row":767,"column":2},"action":"insert","lines":["  "]},{"start":{"row":768,"column":0},"end":{"row":768,"column":2},"action":"insert","lines":["  "]},{"start":{"row":769,"column":0},"end":{"row":769,"column":2},"action":"insert","lines":["  "]},{"start":{"row":770,"column":0},"end":{"row":770,"column":2},"action":"insert","lines":["  "]},{"start":{"row":771,"column":0},"end":{"row":771,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":760,"column":0},"end":{"row":760,"column":2},"action":"insert","lines":["  "]},{"start":{"row":761,"column":0},"end":{"row":761,"column":2},"action":"insert","lines":["  "]},{"start":{"row":762,"column":0},"end":{"row":762,"column":2},"action":"insert","lines":["  "]},{"start":{"row":763,"column":0},"end":{"row":763,"column":2},"action":"insert","lines":["  "]},{"start":{"row":764,"column":0},"end":{"row":764,"column":2},"action":"insert","lines":["  "]},{"start":{"row":765,"column":0},"end":{"row":765,"column":2},"action":"insert","lines":["  "]},{"start":{"row":766,"column":0},"end":{"row":766,"column":2},"action":"insert","lines":["  "]},{"start":{"row":767,"column":0},"end":{"row":767,"column":2},"action":"insert","lines":["  "]},{"start":{"row":768,"column":0},"end":{"row":768,"column":2},"action":"insert","lines":["  "]},{"start":{"row":769,"column":0},"end":{"row":769,"column":2},"action":"insert","lines":["  "]},{"start":{"row":770,"column":0},"end":{"row":770,"column":2},"action":"insert","lines":["  "]},{"start":{"row":771,"column":0},"end":{"row":771,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":765,"column":7},"end":{"row":765,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":765,"column":12},"end":{"row":765,"column":13},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":760,"column":9},"end":{"row":760,"column":15},"action":"remove","lines":["userId"]},{"start":{"row":760,"column":9},"end":{"row":760,"column":19},"action":"insert","lines":["segment_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":760,"column":26},"end":{"row":760,"column":27},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":766,"column":29},"end":{"row":766,"column":35},"action":"remove","lines":["userId"]},{"start":{"row":766,"column":29},"end":{"row":766,"column":39},"action":"insert","lines":["segment_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":769,"column":10},"end":{"row":769,"column":12},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":771,"column":12},"end":{"row":771,"column":13},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":771,"column":10},"end":{"row":771,"column":12},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":771,"column":8},"end":{"row":771,"column":10},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":771,"column":7},"end":{"row":771,"column":8},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":5,"column":38},"action":"insert","lines":["var http            = require('http');"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":18},"end":{"row":5,"column":20},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":16},"end":{"row":5,"column":18},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":14},"end":{"row":5,"column":16},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":14},"end":{"row":5,"column":15},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":35},"end":{"row":1,"column":36},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":35},"end":{"row":1,"column":36},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":35},"end":{"row":1,"column":36},"action":"insert","lines":["в"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":4,"column":2},"action":"remove","lines":["/**","* Модуль роутинга серверных запросов","* @module Global","* @author bruian, iceflash","*/"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":355,"column":2},"end":{"row":355,"column":3},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":355,"column":3},"end":{"row":355,"column":4},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":355,"column":40},"end":{"row":356,"column":0},"action":"insert","lines":["",""]},{"start":{"row":356,"column":0},"end":{"row":356,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":356,"column":2},"end":{"row":356,"column":38},"action":"insert","lines":["global.state.serverRoute = req.path;"]}]}],[{"group":"doc","deltas":[{"start":{"row":356,"column":29},"end":{"row":356,"column":37},"action":"remove","lines":["req.path"]},{"start":{"row":356,"column":29},"end":{"row":356,"column":36},"action":"insert","lines":["req.url"]}]}],[{"group":"doc","deltas":[{"start":{"row":355,"column":0},"end":{"row":355,"column":40},"action":"remove","lines":["  //global.state.serverRoute = req.path;"]}]}],[{"group":"doc","deltas":[{"start":{"row":355,"column":0},"end":{"row":356,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":36},"end":{"row":14,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":14,"column":15},"action":"insert","lines":["'/img/avatars/'"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":14,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":17},"end":{"row":14,"column":18},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":9},"end":{"row":14,"column":10},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":769,"column":24},"end":{"row":770,"column":0},"action":"insert","lines":["",""]},{"start":{"row":770,"column":0},"end":{"row":770,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":770,"column":0},"end":{"row":776,"column":0},"action":"insert","lines":["      if(segment_id === 0) {","        userModel.getUsersList(Number(start), Number(start) + Number(count), {}, function(status, message, userlist) {","          if(status === errors.restStat_isOk)","            res.status(status).json(userlist);","        });","      } else {",""]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":0},"end":{"row":776,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":2},"end":{"row":776,"column":3},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":2},"end":{"row":776,"column":3},"action":"remove","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":0},"end":{"row":776,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":775,"column":14},"end":{"row":776,"column":6},"action":"remove","lines":["","      "]}]}],[{"group":"doc","deltas":[{"start":{"row":775,"column":14},"end":{"row":776,"column":0},"action":"insert","lines":["",""]},{"start":{"row":776,"column":0},"end":{"row":776,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":8},"end":{"row":776,"column":9},"action":"insert","lines":["}"]},{"start":{"row":776,"column":0},"end":{"row":776,"column":8},"action":"remove","lines":["        "]},{"start":{"row":776,"column":0},"end":{"row":776,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":741,"column":0},"end":{"row":741,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":775,"column":14},"end":{"row":776,"column":0},"action":"insert","lines":["",""]},{"start":{"row":776,"column":0},"end":{"row":776,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":8},"end":{"row":776,"column":42},"action":"insert","lines":["res.status(status).json(userlist);"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":19},"end":{"row":776,"column":25},"action":"remove","lines":["status"]},{"start":{"row":776,"column":19},"end":{"row":776,"column":39},"action":"insert","lines":["errors.restStat_isOk"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":46},"end":{"row":776,"column":54},"action":"remove","lines":["userlist"]},{"start":{"row":776,"column":46},"end":{"row":776,"column":48},"action":"insert","lines":["[]"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":47},"end":{"row":776,"column":48},"action":"remove","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":46},"end":{"row":776,"column":47},"action":"remove","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":46},"end":{"row":776,"column":48},"action":"insert","lines":["{}"]}]}],[{"group":"doc","deltas":[{"start":{"row":776,"column":46},"end":{"row":776,"column":48},"action":"remove","lines":["{}"]},{"start":{"row":776,"column":46},"end":{"row":776,"column":82},"action":"insert","lines":["'0 groups for this user in database'"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":8580,"scrollleft":0,"selection":{"start":{"row":743,"column":2},"end":{"row":743,"column":2},"isBackwards":true},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":45,"state":"start","mode":"ace/mode/javascript"}},"hash":"a5b4ae845b91d5c36d74ac890520b255b81d059e"}