{"filter":false,"title":"server.js","tooltip":"/server.js","undoManager":{"stack":[[{"start":{"row":109,"column":82},"end":{"row":109,"column":83},"action":"insert","lines":["v"]}],[{"start":{"row":109,"column":83},"end":{"row":109,"column":84},"action":"insert","lines":["e"]}],[{"start":{"row":109,"column":82},"end":{"row":109,"column":84},"action":"remove","lines":["ve"]},{"start":{"row":109,"column":82},"end":{"row":109,"column":89},"action":"insert","lines":["version"]}],[{"start":{"row":21,"column":1},"end":{"row":21,"column":2},"action":"remove","lines":["/"]}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":86,"column":74},"end":{"row":87,"column":0},"action":"insert","lines":["",""]},{"start":{"row":87,"column":0},"end":{"row":87,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":87,"column":1},"end":{"row":98,"column":4},"action":"insert","lines":["app.use(multer({ dest: './uploads/',"," rename: function (fieldname, filename) {","    return filename+Date.now();","  },","onFileUploadStart: function (file) {","  console.log(file.originalname + ' is starting ...')","},","onFileUploadComplete: function (file) {","  console.log(file.fieldname + ' uploaded to  ' + file.path)","  done=true;","}","}));"]}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":89,"column":0},"end":{"row":89,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":90,"column":0},"end":{"row":90,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":91,"column":0},"end":{"row":91,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":93,"column":0},"end":{"row":93,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":95,"column":0},"end":{"row":95,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":96,"column":0},"end":{"row":96,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":97,"column":0},"end":{"row":97,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":98,"column":0},"end":{"row":98,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":87,"column":27},"end":{"row":87,"column":34},"action":"remove","lines":["uploads"]},{"start":{"row":87,"column":27},"end":{"row":87,"column":40},"action":"insert","lines":["./client/img/"]}],[{"start":{"row":87,"column":26},"end":{"row":87,"column":27},"action":"remove","lines":["/"]}],[{"start":{"row":87,"column":25},"end":{"row":87,"column":26},"action":"remove","lines":["."]}],[{"start":{"row":87,"column":36},"end":{"row":87,"column":37},"action":"remove","lines":["g"]}],[{"start":{"row":87,"column":36},"end":{"row":87,"column":37},"action":"remove","lines":["/"]}],[{"start":{"row":87,"column":35},"end":{"row":87,"column":36},"action":"remove","lines":["m"]}],[{"start":{"row":87,"column":34},"end":{"row":87,"column":35},"action":"remove","lines":["i"]}],[{"start":{"row":87,"column":34},"end":{"row":87,"column":35},"action":"insert","lines":["t"]}],[{"start":{"row":87,"column":35},"end":{"row":87,"column":36},"action":"insert","lines":["m"]}],[{"start":{"row":87,"column":36},"end":{"row":87,"column":37},"action":"insert","lines":["p"]}],[{"start":{"row":88,"column":1},"end":{"row":88,"column":2},"action":"remove","lines":[" "]}],[{"start":{"row":88,"column":1},"end":{"row":88,"column":2},"action":"insert","lines":["\t"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":["+"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":24},"action":"remove","lines":["Date"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":["."]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":23},"action":"remove","lines":["now"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":22},"action":"remove","lines":["()"]}],[{"start":{"row":91,"column":0},"end":{"row":91,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":93,"column":0},"end":{"row":93,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":96,"column":7},"end":{"row":96,"column":8},"action":"insert","lines":[" "]}],[{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"insert","lines":[" "]}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":95,"column":0},"end":{"row":95,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":96,"column":0},"end":{"row":96,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":97,"column":0},"end":{"row":97,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":96,"column":4},"end":{"row":96,"column":5},"action":"insert","lines":["g"]}],[{"start":{"row":96,"column":5},"end":{"row":96,"column":6},"action":"insert","lines":["l"]}],[{"start":{"row":96,"column":6},"end":{"row":96,"column":7},"action":"insert","lines":["o"]}],[{"start":{"row":96,"column":7},"end":{"row":96,"column":8},"action":"insert","lines":["b"]}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["s"]}],[{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"insert","lines":["l"]}],[{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"remove","lines":["l"]}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"remove","lines":["s"]}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["a"]}],[{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"insert","lines":["l"]}],[{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"insert","lines":["."]}],[{"start":{"row":97,"column":3},"end":{"row":97,"column":4},"action":"insert","lines":[","]}],[{"start":{"row":97,"column":4},"end":{"row":98,"column":0},"action":"insert","lines":["",""]},{"start":{"row":98,"column":0},"end":{"row":98,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":98,"column":2},"end":{"row":100,"column":1},"action":"insert","lines":["changeDest: function(dest, req, res) {","  return dest + '/user1'; ","}"]}],[{"start":{"row":99,"column":0},"end":{"row":99,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":99,"column":0},"end":{"row":99,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":97,"column":3},"end":{"row":97,"column":4},"action":"insert","lines":["/"]}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"insert","lines":["*"]}],[{"start":{"row":100,"column":3},"end":{"row":100,"column":4},"action":"insert","lines":["*"]}],[{"start":{"row":100,"column":4},"end":{"row":100,"column":5},"action":"insert","lines":["/"]}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"remove","lines":["*"],"id":2}],[{"start":{"row":97,"column":3},"end":{"row":97,"column":4},"action":"remove","lines":["/"],"id":3}],[{"start":{"row":100,"column":3},"end":{"row":100,"column":4},"action":"remove","lines":["*"],"id":4}],[{"start":{"row":100,"column":3},"end":{"row":100,"column":4},"action":"remove","lines":["/"],"id":5}],[{"start":{"row":99,"column":16},"end":{"row":99,"column":26},"action":"remove","lines":["+ '/user1'"],"id":6}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"remove","lines":[" "],"id":7}],[{"start":{"row":98,"column":40},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":99,"column":0},"end":{"row":99,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":11},"action":"insert","lines":["req.body"],"id":9}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":4},"action":"insert","lines":["c"],"id":10}],[{"start":{"row":99,"column":4},"end":{"row":99,"column":5},"action":"insert","lines":["o"],"id":11}],[{"start":{"row":99,"column":5},"end":{"row":99,"column":6},"action":"insert","lines":["n"],"id":12}],[{"start":{"row":99,"column":6},"end":{"row":99,"column":7},"action":"insert","lines":["s"],"id":13}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":7},"action":"remove","lines":["cons"],"id":14},{"start":{"row":99,"column":3},"end":{"row":99,"column":10},"action":"insert","lines":["console"]}],[{"start":{"row":99,"column":10},"end":{"row":99,"column":11},"action":"insert","lines":["."],"id":15}],[{"start":{"row":99,"column":11},"end":{"row":99,"column":12},"action":"insert","lines":["l"],"id":16}],[{"start":{"row":99,"column":12},"end":{"row":99,"column":13},"action":"insert","lines":["o"],"id":17}],[{"start":{"row":99,"column":13},"end":{"row":99,"column":14},"action":"insert","lines":["g"],"id":18}],[{"start":{"row":99,"column":14},"end":{"row":99,"column":15},"action":"insert","lines":["("],"id":19}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"insert","lines":["c"],"id":20}],[{"start":{"row":99,"column":16},"end":{"row":99,"column":17},"action":"insert","lines":["h"],"id":21}],[{"start":{"row":99,"column":16},"end":{"row":99,"column":17},"action":"remove","lines":["h"],"id":22}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"remove","lines":["c"],"id":23}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"insert","lines":[":"],"id":24}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"remove","lines":[":"],"id":25}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"insert","lines":["c"],"id":26}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"remove","lines":["c"],"id":27}],[{"start":{"row":99,"column":23},"end":{"row":99,"column":25},"action":"insert","lines":["()"],"id":28}],[{"start":{"row":99,"column":23},"end":{"row":99,"column":25},"action":"remove","lines":["()"],"id":29}],[{"start":{"row":99,"column":23},"end":{"row":99,"column":24},"action":"insert","lines":[")"],"id":30}],[{"start":{"row":99,"column":24},"end":{"row":99,"column":25},"action":"insert","lines":[";"],"id":31}],[{"start":{"row":99,"column":2},"end":{"row":99,"column":3},"action":"remove","lines":["\t"],"id":32}],[{"start":{"row":99,"column":2},"end":{"row":99,"column":3},"action":"insert","lines":["\t"],"id":33}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":25},"action":"remove","lines":["console.log(req.body);"],"id":34}],[{"start":{"row":99,"column":0},"end":{"row":99,"column":3},"action":"remove","lines":["\t\t\t"],"id":35}],[{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"remove","lines":["",""],"id":36}],[{"start":{"row":94,"column":41},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":37},{"start":{"row":95,"column":0},"end":{"row":95,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":95,"column":3},"end":{"row":95,"column":25},"action":"insert","lines":["console.log(req.body);"],"id":38}],[{"start":{"row":94,"column":34},"end":{"row":94,"column":38},"action":"remove","lines":["file"],"id":39},{"start":{"row":94,"column":34},"end":{"row":94,"column":48},"action":"insert","lines":["file, req, res"]}],[{"start":{"row":94,"column":32},"end":{"row":94,"column":33},"action":"remove","lines":[" "],"id":41}],[{"start":{"row":91,"column":29},"end":{"row":91,"column":30},"action":"remove","lines":[" "],"id":42}],[{"start":{"row":99,"column":0},"end":{"row":102,"column":0},"action":"remove","lines":["\t\tchangeDest: function(dest, req, res) {","\t\t  return dest; ","\t\t}",""],"id":43}],[{"start":{"row":86,"column":0},"end":{"row":86,"column":74},"action":"remove","lines":["\t//bru: если захотим заюзать мультер нужно ещё подключить файлик multer.js"],"id":44}],[{"start":{"row":86,"column":0},"end":{"row":87,"column":0},"action":"remove","lines":["",""],"id":45}],[{"start":{"row":99,"column":0},"end":{"row":117,"column":0},"action":"remove","lines":["\t// app.use(multer({ dest: './client/img/',","\t// \tonParseStart: function (req, res, next) {","\t// \t  //console.log(file.fieldname + ' is starting ...');","\t// \t  return true;","\t// \t},\t","\t// \tonFileUploadComplete: function (file) {","\t//   \tconsole.log(file.fieldname + ' uploaded to  ' + file.path);","\t// \t},","\t// \tonParseEnd: function (req, res, next) {","\t// \t  console.log('Form parsing completed at: ', new Date());","","\t// \t\t//res.send({ status: 'server'});","\t// \t  // call the next middleware","\t// \t  next();","\t// \t}","\t\t","\t// }));","\t",""],"id":46}],[{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"insert","lines":["",""],"id":47}],[{"start":{"row":94,"column":3},"end":{"row":94,"column":25},"action":"remove","lines":["console.log(req.body);"],"id":48}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":3},"action":"remove","lines":["\t\t\t"],"id":49}],[{"start":{"row":94,"column":0},"end":{"row":95,"column":0},"action":"remove","lines":["",""],"id":50}],[{"start":{"row":94,"column":4},"end":{"row":94,"column":5},"action":"insert","lines":["/"],"id":51}],[{"start":{"row":94,"column":5},"end":{"row":94,"column":6},"action":"insert","lines":["/"],"id":52}],[{"start":{"row":91,"column":4},"end":{"row":91,"column":5},"action":"insert","lines":["/"],"id":53}],[{"start":{"row":91,"column":5},"end":{"row":91,"column":6},"action":"insert","lines":["/"],"id":54}]],"mark":100,"position":100},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":490,"scrollleft":0,"selection":{"start":{"row":91,"column":6},"end":{"row":91,"column":6},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":false,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":226,"mode":"ace/mode/javascript"}},"timestamp":1430998304000,"hash":"ca17e7f6f6a34db71f14d060b5461d3eccdcaa0a"}