{"filter":false,"title":"main.js","tooltip":"/client/js/main.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":312,"column":0},"end":{"row":482,"column":0},"action":"insert","lines":["","\t//***************************************************************************","\t//AFTER FETCH FUNCTIONs","\t","\t//Вывод данных пользовательского профиля во фрейм, после успешного получения с сервера (callback)","  var showUserDataAfterSuccess = function(model, response, options) {","    $$('tabviewCentral_User').show();","    $$('tabviewCentral_User').hideProgress();","    ","    $$('scrollviewRight_UserFilter').show();","    ","    //если отображается пользователь, то выводятся поля ввода, в противном случае только информационные","    if(App.State.user.get('id') === App.State.viewedUser.get('id')) {","      //В основном меню выделим пункт профиля","      if('listitemSegmentsSelector_MyProfile' != $$('listSegments_SegmentsSelector').getSelectedId()) {","        $$('listSegments_SegmentsSelector').blockEvent(); //Блокируем срабатывание события при программном выборе пункта меню","        $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_MyProfile'); //Программно выбираем пункт меню","        $$('listSegments_SegmentsSelector').unblockEvent();","      }      ","      ","      $$('listProfile_UserAttributesSelector').unselectAll();","      $$('frameProfile_user').show();","      App.Func.loadUserPermission();        //Загрузим настройки в панель настроек доступа своего профиля","    } else {","      $$('listProfile_viewedUserAttributesSelector').unselectAll();","      $$('listSegments_SegmentsSelector').unselectAll();","      ","      $$('frameProfile_viewedUser').show();                                   //Показываем фрейм с данными чужого профиля","      if($$('multiviewRight').isVisible()) $$('multiviewRight').hide();       //Если панель настроек доступа видима, то скроем","      if($$('toggleHeader_Options').getValue()) $$('toggleHeader_Options').setValue(0); //Если кнопка настроке доступа нажата, то отожмем","      $$('toggleHeader_Options').disable();                                   //Заблокируем возможность нажимать кнопку открытия окна настроек доступа","    }","    ","    App.Func.loadUserAttributes();","    ","    //App.State.groups.fetch({ success: showGroupDataAfterFetch });","  };","\t","\tvar showUserDataAfterError = function(model, xhr, options) {","\t  //заглушка","\t};","\t","  var showGroupDataAfterSuccess = function(text, data) {","    //App.State.groupTreeManager.treeBuild(App.State.groups.models);","    ","    //$$('treetableMyGroups_Groupstable').load('GroupData->load');","    $$(\"treetableMyGroups_Groupstable\").parse(text);","  };","","  var showGroupDataAfterError = function(model, xhr, options) {","\t  //заглушка","\t};","","  var showTaskDataAfterFetch = function(Tasks, response, options) {","    App.State.taskTreeManager.treeBuild(App.State.tasks.models);","    ","    $$('treetableMytasks_Tasktable').load('TaskData->load'); //!!!!!!!!!!!!!!!!!!!!!","  };","","  //***************************************************************************","  //INTERFACE MANIPULATION","  //segmentSelector переключает состояние интерфейса в соответствии с теми сегментами, которые были","  //установлены при обратке роутов в backbone App.Router, смена сегментов всегда сопровождается вызовом","  //следующих функций segmengChange()->опрос состояния сервера->segmentSelector()->перерисовка интерфейса","  var segmentSelector = function() {","    var user = App.State.user;","    var viewedUser = App.State.viewedUser;","    ","    //если пользователь залогинился (получаем при опросе состояния сервера)","  \tif(user.get('mainUserLogged')) {","  \t  if(!$$('toolbarHeader').isVisible()) $$('toolbarHeader').show();","  \t  if(!$$('toggleHeader_Options').isEnabled()) $$('toggleHeader_Options').enable();","  \t  ","  \t  //Отрисовка интерфейса в зависимости от выбранного сегмента","  \t  switch(App.State.getState('segment')) {","        case 'user':","       \t  $$('tabviewCentral_User').showProgress({","            type:'icon',","            delay:500","          });","  ","          viewedUser.url = '/api/v1/users/' + App.State.segmentUserId;","          viewedUser.fetch({ success: showUserDataAfterSuccess, error: showUserDataAfterError, silent:true });","","          break;  \t    ","        case 'users':","          //Обработаем показ сегмента пользователей, сперва верно выделим пункты меню","          //Само нажатие нам не нужно производить, поэтому блокируем срабатывание события","          //если фильтр по пользователю не выбран, выделяем пункт пользователей в основном меню","          //в противном случае снимаем выделение","          $$('listSegments_SegmentsSelector').blockEvent();","          if(App.State.usersFilter.userId === 0) {","            if('listitemSegmentsSelector_AllUsers' != $$('listSegments_SegmentsSelector').getSelectedId()) {","              $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_AllUsers');","            }","          } else {","            $$('listSegments_SegmentsSelector').unselectAll();","          }","          $$('listSegments_SegmentsSelector').unblockEvent();","          ","          $$('dataviewCentral_Users').clearAll();","          $$('dataviewCentral_Users').loadNext(4, 0, null, 'api/v1/users');","","          $$('frameCentral_Users').show();","          $$('scrollviewRight_UsersFilter').show();","          ","          break;","        case 'groups':","          //Обработаем показ сегмента групп, сперва верно выделим пункты меню","          //Само нажатие нам не нужно производить, поэтому блокируем срабатывание события","          //если фильтр по пользователю не выбран, выделяем пункт групп в основном меню","          //в противном случае снимаем выделение          ","          $$('listSegments_SegmentsSelector').blockEvent();","          if(App.State.usersFilter.userId === 0) {","            if('listitemSegmentsSelector_AllGroups' != $$('listSegments_SegmentsSelector').getSelectedId()) {","              $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_AllGroups');","            }","          } else {","            $$('listSegments_SegmentsSelector').unselectAll();","          }","          $$('listSegments_SegmentsSelector').unblockEvent();","          ","          //App.State.groups.fetch({ success: showGroupDataAfterFetch });","          $$('treetableMyGroups_Groupstable').clearAll();","          var promise = webix.ajax().get('api/v1/groups', { userId: App.State.usersFilter.userId }, showGroupDataAfterSuccess);","          promise.then(function(realdata) {}).fail(showGroupDataAfterError);","","          //$$('treetableMyGroups_Groupstable').load('api/v1/groups');","          //$$('treetableMyGroups_Groupstable').loadNext(10, 0, null, 'api/v1/groups');","","          $$('tabviewCentral_Groups').show();","          $$('scrollviewRight_GroupsFilter').show();","          ","          break;","        case 'tasks':","          $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_AllTasks');","          ","          App.State.tasks.fetch({ success: showTaskDataAfterFetch });","          $$('tabviewCentral_Task').show();","          break;","        case 'templates':","          // code","          break;","        case 'finances':","          break;","        case 'process':","          // code","          break;","        case 'files':","          // code","          break;","        case 'notes':","          // code","          break;","  \t  }","  \t} else {","  \t  console.log('segmentSelector: user not logged');","\t    App.State.$init();","\t    offState();","  \t  $$('frameCentral_Greeting').show();","  \t} //if(App.State.user.mainUserLogged)    ","  };","  ","  var connectionErrorShow = function(err) {","    if(err.status === 434) {","      //defaultState();","      //App.Router.navigate('', {trigger: true});","    }","    webix.message({type:'error', text:err.responseText});","  };",""]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":4},"end":{"row":28,"column":5},"action":"remove","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":469,"column":15},"end":{"row":469,"column":16},"action":"remove","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":574,"column":0},"end":{"row":589,"column":0},"action":"remove","lines":["  var offState = function() {","    $$('multiviewLeft').hide();","    $$('multiviewRight').hide();","","    $$('treetableMytasks_Tasktable').clearAll();","    $$('treetableMyGroups_Groupstable').clearAll();","    ","    $$('toggleHeader_Menu').setValue(0);","    $$('toggleHeader_Options').setValue(0);","    ","    $$('toolbarAutorisation').show();","    $$('buttonAutorisationLogin').enable();","\t  $$('buttonAutorisationRegister').enable();","  };","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":312,"column":0},"end":{"row":327,"column":0},"action":"insert","lines":["","  var offState = function() {","    $$('multiviewLeft').hide();","    $$('multiviewRight').hide();","","    $$('treetableMytasks_Tasktable').clearAll();","    $$('treetableMyGroups_Groupstable').clearAll();","    ","    $$('toggleHeader_Menu').setValue(0);","    $$('toggleHeader_Options').setValue(0);","    ","    $$('toolbarAutorisation').show();","    $$('buttonAutorisationLogin').enable();","\t  $$('buttonAutorisationRegister').enable();","  };",""]}]}],[{"group":"doc","deltas":[{"start":{"row":508,"column":21},"end":{"row":509,"column":10},"action":"insert","lines":["","\t\t\t'gr:id'"]}]}],[{"group":"doc","deltas":[{"start":{"row":509,"column":9},"end":{"row":509,"column":12},"action":"insert","lines":["(/)"]}]}],[{"group":"doc","deltas":[{"start":{"row":509,"column":13},"end":{"row":509,"column":18},"action":"insert","lines":[":'gr'"]}]}],[{"group":"doc","deltas":[{"start":{"row":509,"column":17},"end":{"row":509,"column":20},"action":"insert","lines":["oup"]},{"start":{"row":509,"column":21},"end":{"row":509,"column":22},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":4},"end":{"row":538,"column":16},"action":"insert","lines":["","\t\tgroup:function"]}]}],[{"group":"doc","deltas":[{"start":{"row":538,"column":16},"end":{"row":540,"column":3},"action":"insert","lines":["(id) {","\t\t  ","\t\t}"]}]}],[{"group":"doc","deltas":[{"start":{"row":539,"column":4},"end":{"row":539,"column":14},"action":"insert","lines":["App.State."]},{"start":{"row":540,"column":3},"end":{"row":540,"column":4},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":539,"column":14},"end":{"row":539,"column":32},"action":"insert","lines":["segmentChange('/')"]}]}],[{"group":"doc","deltas":[{"start":{"row":539,"column":30},"end":{"row":539,"column":32},"action":"insert","lines":["gr"]}]}],[{"group":"doc","deltas":[{"start":{"row":539,"column":33},"end":{"row":539,"column":44},"action":"insert","lines":[" + id, 'gr'"]}]}],[{"group":"doc","deltas":[{"start":{"row":539,"column":43},"end":{"row":539,"column":46},"action":"insert","lines":["oup"]},{"start":{"row":539,"column":48},"end":{"row":539,"column":49},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":411,"column":16},"end":{"row":411,"column":23},"action":"remove","lines":["  \t    "]},{"start":{"row":411,"column":16},"end":{"row":412,"column":10},"action":"insert","lines":["","        ca"]}]}],[{"group":"doc","deltas":[{"start":{"row":412,"column":10},"end":{"row":412,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":412,"column":11},"end":{"row":412,"column":20},"action":"insert","lines":["e 'group'"]}]}],[{"group":"doc","deltas":[{"start":{"row":412,"column":20},"end":{"row":413,"column":10},"action":"insert","lines":[":","          "]}]}],[{"group":"doc","deltas":[{"start":{"row":403,"column":14},"end":{"row":403,"column":33},"action":"remove","lines":["tabviewCentral_User"]},{"start":{"row":403,"column":14},"end":{"row":403,"column":33},"action":"insert","lines":["tabview_CentralUser"]},{"start":{"row":597,"column":19},"end":{"row":597,"column":38},"action":"remove","lines":["tabviewCentral_User"]},{"start":{"row":597,"column":19},"end":{"row":597,"column":38},"action":"insert","lines":["tabview_CentralUser"]},{"start":{"row":597,"column":61},"end":{"row":598,"column":3},"action":"insert","lines":["","  w"]}]}],[{"group":"doc","deltas":[{"start":{"row":598,"column":2},"end":{"row":598,"column":3},"action":"remove","lines":["w"]},{"start":{"row":598,"column":2},"end":{"row":598,"column":18},"action":"insert","lines":["webix.extend($$)"]}]}],[{"group":"doc","deltas":[{"start":{"row":598,"column":17},"end":{"row":598,"column":43},"action":"insert","lines":["('tabview_CentralUser'), w"]}]}],[{"group":"doc","deltas":[{"start":{"row":598,"column":42},"end":{"row":598,"column":43},"action":"remove","lines":["w"]},{"start":{"row":598,"column":42},"end":{"row":598,"column":59},"action":"insert","lines":["webix.ProgressBar"]},{"start":{"row":598,"column":60},"end":{"row":598,"column":61},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":333,"column":8},"end":{"row":333,"column":27},"action":"remove","lines":["tabviewCentral_User"]},{"start":{"row":333,"column":8},"end":{"row":333,"column":27},"action":"insert","lines":["tabview_CentralUser"]},{"start":{"row":334,"column":8},"end":{"row":334,"column":27},"action":"remove","lines":["tabviewCentral_User"]},{"start":{"row":334,"column":8},"end":{"row":334,"column":27},"action":"insert","lines":["tabview_CentralUser"]}]}],[{"group":"doc","deltas":[{"start":{"row":405,"column":18},"end":{"row":405,"column":19},"action":"remove","lines":["5"]},{"start":{"row":405,"column":18},"end":{"row":405,"column":19},"action":"insert","lines":["2"]},{"start":{"row":413,"column":0},"end":{"row":416,"column":13},"action":"insert","lines":["       \t  $$('tabview_CentralUser').showProgress({","            type:'icon',","            delay:200","          });"]}]}],[{"group":"doc","deltas":[{"start":{"row":413,"column":29},"end":{"row":413,"column":33},"action":"remove","lines":["User"]},{"start":{"row":413,"column":29},"end":{"row":413,"column":34},"action":"insert","lines":["Group"]},{"start":{"row":416,"column":13},"end":{"row":416,"column":23},"action":"remove","lines":["          "]},{"start":{"row":416,"column":13},"end":{"row":417,"column":10},"action":"insert","lines":["","          "]}]}],[{"group":"doc","deltas":[{"start":{"row":417,"column":10},"end":{"row":418,"column":10},"action":"insert","lines":["","          "]}]}],[{"group":"doc","deltas":[{"start":{"row":393,"column":42},"end":{"row":394,"column":14},"action":"insert","lines":["","    var viewed"]}]}],[{"group":"doc","deltas":[{"start":{"row":394,"column":8},"end":{"row":394,"column":14},"action":"remove","lines":["viewed"]},{"start":{"row":394,"column":8},"end":{"row":394,"column":43},"action":"insert","lines":["viewedGroup = App.State.viewedGroup"]}]}],[{"group":"doc","deltas":[{"start":{"row":394,"column":43},"end":{"row":394,"column":44},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":10},"end":{"row":419,"column":28},"action":"insert","lines":["viewedGroup.url = "]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":28},"end":{"row":419,"column":35},"action":"insert","lines":["'/api/'"]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":34},"end":{"row":419,"column":37},"action":"insert","lines":["v1/"]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":37},"end":{"row":419,"column":44},"action":"insert","lines":["groups/"]},{"start":{"row":419,"column":45},"end":{"row":419,"column":48},"action":"insert","lines":[" + "]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":48},"end":{"row":419,"column":58},"action":"insert","lines":["App.State."]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":58},"end":{"row":419,"column":69},"action":"insert","lines":["segmentUsId"]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":65},"end":{"row":419,"column":67},"action":"remove","lines":["Us"]},{"start":{"row":419,"column":65},"end":{"row":419,"column":70},"action":"insert","lines":["Group"]},{"start":{"row":419,"column":72},"end":{"row":419,"column":73},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":419,"column":73},"end":{"row":422,"column":16},"action":"insert","lines":["","          viewedUser.fetch({ success: showUserDataAfterSuccess, error: showUserDataAfterError, silent:true });","          ","          break;"]}]}],[{"group":"doc","deltas":[{"start":{"row":420,"column":10},"end":{"row":420,"column":20},"action":"remove","lines":["viewedUser"]},{"start":{"row":420,"column":10},"end":{"row":420,"column":21},"action":"insert","lines":["viewedGroup"]}]}],[{"group":"doc","deltas":[{"start":{"row":420,"column":43},"end":{"row":420,"column":47},"action":"remove","lines":["User"]},{"start":{"row":420,"column":43},"end":{"row":420,"column":44},"action":"insert","lines":["G"]}]}],[{"group":"doc","deltas":[{"start":{"row":420,"column":44},"end":{"row":420,"column":48},"action":"insert","lines":["roup"]}]}],[{"group":"doc","deltas":[{"start":{"row":420,"column":77},"end":{"row":420,"column":81},"action":"remove","lines":["User"]},{"start":{"row":420,"column":77},"end":{"row":420,"column":82},"action":"insert","lines":["Group"]}]}],[{"group":"doc","deltas":[{"start":{"row":549,"column":22},"end":{"row":550,"column":28},"action":"insert","lines":["","\t\t  App.State.segmentGroupId"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":28},"end":{"row":550,"column":34},"action":"insert","lines":[" = id;"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":28},"end":{"row":20,"column":23},"action":"insert","lines":["","    segmentGroupId   : "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":23},"end":{"row":20,"column":28},"action":"insert","lines":["null,"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":43},"end":{"row":55,"column":42},"action":"insert","lines":["","      this.segmentUseId            = null;"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":18},"end":{"row":55,"column":21},"action":"remove","lines":["Use"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":23},"action":"insert","lines":["Group"]},{"start":{"row":55,"column":25},"end":{"row":55,"column":26},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":383,"column":4},"end":{"row":383,"column":6},"action":"insert","lines":["//"]},{"start":{"row":385,"column":4},"end":{"row":385,"column":6},"action":"insert","lines":["//"]}]}],[{"group":"doc","deltas":[{"start":{"row":464,"column":109},"end":{"row":464,"column":110},"action":"insert","lines":["s"]},{"start":{"row":465,"column":60},"end":{"row":465,"column":61},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":371,"column":15},"end":{"row":371,"column":16},"action":"insert","lines":["s"]},{"start":{"row":378,"column":15},"end":{"row":378,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":369,"column":3},"end":{"row":407,"column":3},"action":"insert","lines":["","\t","  //Вывод данных пользовательского профиля во фрейм, после успешного получения с сервера (callback)","  var showUserDataAfterSuccess = function(model, response, options) {","    $$('tabview_CentralUser').show();","    $$('tabview_CentralUser').hideProgress();","    ","    $$('scrollviewRight_UserFilter').show();","    ","    //если отображается пользователь, то выводятся поля ввода, в противном случае только информационные","    if(App.State.user.get('id') === App.State.viewedUser.get('id')) {","      //В основном меню выделим пункт профиля","      if('listitemSegmentsSelector_MyProfile' != $$('listSegments_SegmentsSelector').getSelectedId()) {","        $$('listSegments_SegmentsSelector').blockEvent(); //Блокируем срабатывание события при программном выборе пункта меню","        $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_MyProfile'); //Программно выбираем пункт меню","        $$('listSegments_SegmentsSelector').unblockEvent();","      }      ","      ","      $$('listProfile_UserAttributesSelector').unselectAll();","      $$('frameProfile_user').show();","      App.Func.loadUserPermission();        //Загрузим настройки в панель настроек доступа своего профиля","    } else {","      $$('listProfile_viewedUserAttributesSelector').unselectAll();","      $$('listSegments_SegmentsSelector').unselectAll();","      ","      $$('frameProfile_viewedUser').show();                                   //Показываем фрейм с данными чужого профиля","      if($$('multiviewRight').isVisible()) $$('multiviewRight').hide();       //Если панель настроек доступа видима, то скроем","      if($$('toggleHeader_Options').getValue()) $$('toggleHeader_Options').setValue(0); //Если кнопка настроке доступа нажата, то отожмем","      $$('toggleHeader_Options').disable();                                   //Заблокируем возможность нажимать кнопку открытия окна настроек доступа","    }","    ","    App.Func.loadUserAttributes();","    ","    //App.State.groups.fetch({ success: showGroupDataAfterFetch });","  };","\t","\tvar showUserDataAfterError = function(model, xhr, options) {","\t  //заглушка","\t};"]}]}],[{"group":"doc","deltas":[{"start":{"row":371,"column":16},"end":{"row":371,"column":34},"action":"remove","lines":[" пользовательского"]},{"start":{"row":371,"column":16},"end":{"row":371,"column":17},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":371,"column":16},"end":{"row":371,"column":17},"action":"remove","lines":["0"]},{"start":{"row":371,"column":25},"end":{"row":371,"column":31},"action":"insert","lines":["группы"]}]}],[{"group":"doc","deltas":[{"start":{"row":371,"column":31},"end":{"row":371,"column":32},"action":"insert","lines":[" "]},{"start":{"row":372,"column":10},"end":{"row":372,"column":14},"action":"remove","lines":["User"]},{"start":{"row":372,"column":10},"end":{"row":372,"column":12},"action":"insert","lines":["Пк"]}]}],[{"group":"doc","deltas":[{"start":{"row":372,"column":10},"end":{"row":372,"column":12},"action":"remove","lines":["Пк"]},{"start":{"row":372,"column":10},"end":{"row":372,"column":14},"action":"insert","lines":["Grou"]}]}],[{"group":"doc","deltas":[{"start":{"row":372,"column":14},"end":{"row":372,"column":15},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":373,"column":8},"end":{"row":373,"column":27},"action":"remove","lines":["tabview_CentralUser"]},{"start":{"row":373,"column":8},"end":{"row":373,"column":28},"action":"insert","lines":["tabview_CentralGroup"]}]}],[{"group":"doc","deltas":[{"start":{"row":374,"column":8},"end":{"row":374,"column":27},"action":"remove","lines":["tabview_CentralUser"]},{"start":{"row":374,"column":8},"end":{"row":374,"column":28},"action":"insert","lines":["tabview_CentralGroup"]}]}],[{"group":"doc","deltas":[{"start":{"row":405,"column":9},"end":{"row":405,"column":13},"action":"remove","lines":["User"]},{"start":{"row":405,"column":9},"end":{"row":405,"column":14},"action":"insert","lines":["Group"]}]}],[{"group":"doc","deltas":[{"start":{"row":338,"column":18},"end":{"row":338,"column":19},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":338,"column":24},"end":{"row":338,"column":25},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":376,"column":18},"end":{"row":376,"column":19},"action":"insert","lines":["_"]},{"start":{"row":376,"column":25},"end":{"row":376,"column":29},"action":"remove","lines":["User"]}]}],[{"group":"doc","deltas":[{"start":{"row":376,"column":24},"end":{"row":376,"column":25},"action":"remove","lines":["_"]},{"start":{"row":376,"column":24},"end":{"row":376,"column":29},"action":"insert","lines":["Group"]}]}],[{"group":"doc","deltas":[{"start":{"row":379,"column":4},"end":{"row":379,"column":6},"action":"insert","lines":["//"]},{"start":{"row":379,"column":9},"end":{"row":379,"column":38},"action":"remove","lines":["App.State.user.get('id') === "]}]}],[{"group":"doc","deltas":[{"start":{"row":390,"column":0},"end":{"row":399,"column":4},"action":"remove","lines":["    } else {","      $$('listProfile_viewedUserAttributesSelector').unselectAll();","      $$('listSegments_SegmentsSelector').unselectAll();","      ","      $$('frameProfile_viewedUser').show();                                   //Показываем фрейм с данными чужого профиля","      if($$('multiviewRight').isVisible()) $$('multiviewRight').hide();       //Если панель настроек доступа видима, то скроем","      if($$('toggleHeader_Options').getValue()) $$('toggleHeader_Options').setValue(0); //Если кнопка настроке доступа нажата, то отожмем","      $$('toggleHeader_Options').disable();                                   //Заблокируем возможность нажимать кнопку открытия окна настроек доступа","    }","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":378,"column":0},"end":{"row":380,"column":2},"action":"remove","lines":["    //если отображается пользователь, то выводятся поля ввода, в противном случае только информационные","    //if(App.State.viewedUser.get('id')) {","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":379,"column":0},"end":{"row":379,"column":2},"action":"remove","lines":["  "]},{"start":{"row":380,"column":0},"end":{"row":380,"column":2},"action":"remove","lines":["  "]},{"start":{"row":381,"column":0},"end":{"row":381,"column":2},"action":"remove","lines":["  "]},{"start":{"row":382,"column":0},"end":{"row":382,"column":2},"action":"remove","lines":["  "]},{"start":{"row":383,"column":0},"end":{"row":383,"column":2},"action":"remove","lines":["  "]},{"start":{"row":385,"column":0},"end":{"row":385,"column":2},"action":"remove","lines":["  "]},{"start":{"row":386,"column":0},"end":{"row":386,"column":2},"action":"remove","lines":["  "]},{"start":{"row":387,"column":0},"end":{"row":387,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":387,"column":4},"end":{"row":387,"column":6},"action":"insert","lines":["//"]},{"start":{"row":389,"column":18},"end":{"row":389,"column":21},"action":"remove","lines":["ser"]}]}],[{"group":"doc","deltas":[{"start":{"row":389,"column":17},"end":{"row":389,"column":18},"action":"remove","lines":["U"]},{"start":{"row":389,"column":17},"end":{"row":389,"column":22},"action":"insert","lines":["Group"]}]}],[{"group":"doc","deltas":[{"start":{"row":390,"column":0},"end":{"row":392,"column":0},"action":"remove","lines":["    ","    //App.State.groups.fetch({ success: showGroupDataAfterFetch });",""]}]}],[{"group":"doc","deltas":[{"start":{"row":379,"column":35},"end":{"row":379,"column":42},"action":"remove","lines":["Profile"]}]}],[{"group":"doc","deltas":[{"start":{"row":385,"column":8},"end":{"row":385,"column":42},"action":"remove","lines":["listProfile_UserAttributesSelector"]},{"start":{"row":385,"column":8},"end":{"row":385,"column":36},"action":"insert","lines":["list_ViewedGroupProfile_Menu"]}]}],[{"group":"doc","deltas":[{"start":{"row":386,"column":8},"end":{"row":386,"column":25},"action":"remove","lines":["frameProfile_user"]},{"start":{"row":386,"column":8},"end":{"row":386,"column":26},"action":"insert","lines":["frame_GroupProfile"]}]}],[{"group":"doc","deltas":[{"start":{"row":377,"column":2},"end":{"row":378,"column":43},"action":"remove","lines":["  ","    //В основном меню выделим пункт профиля"]},{"start":{"row":378,"column":0},"end":{"row":383,"column":6},"action":"remove","lines":["    if('listitemSegmentsSelector_My' != $$('listSegments_SegmentsSelector').getSelectedId()) {","      $$('listSegments_SegmentsSelector').blockEvent(); //Блокируем срабатывание события при программном выборе пункта меню","      $$('listSegments_SegmentsSelector').select('listitemSegmentsSelector_MyProfile'); //Программно выбираем пункт меню","      $$('listSegments_SegmentsSelector').unblockEvent();","    }      ","      "]}]}],[{"group":"doc","deltas":[{"start":{"row":376,"column":45},"end":{"row":377,"column":2},"action":"remove","lines":["","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":628,"column":19},"end":{"row":628,"column":38},"action":"remove","lines":["tabview_CentralUser"]},{"start":{"row":628,"column":19},"end":{"row":628,"column":39},"action":"insert","lines":["tabview_CentralGroup"]}]}],[{"group":"doc","deltas":[{"start":{"row":343,"column":53},"end":{"row":343,"column":82},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":343,"column":53},"end":{"row":343,"column":74},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":344,"column":12},"end":{"row":344,"column":41},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":344,"column":12},"end":{"row":344,"column":33},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":345,"column":12},"end":{"row":345,"column":41},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":345,"column":12},"end":{"row":345,"column":33},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":346,"column":12},"end":{"row":346,"column":41},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":346,"column":12},"end":{"row":346,"column":33},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":354,"column":10},"end":{"row":354,"column":39},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":354,"column":10},"end":{"row":354,"column":31},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":448,"column":14},"end":{"row":448,"column":43},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":448,"column":14},"end":{"row":448,"column":35},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":450,"column":58},"end":{"row":450,"column":87},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":450,"column":58},"end":{"row":450,"column":79},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":451,"column":18},"end":{"row":451,"column":47},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":451,"column":18},"end":{"row":451,"column":39},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":454,"column":16},"end":{"row":454,"column":45},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":454,"column":16},"end":{"row":454,"column":37},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":456,"column":14},"end":{"row":456,"column":43},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":456,"column":14},"end":{"row":456,"column":35},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":470,"column":14},"end":{"row":470,"column":43},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":470,"column":14},"end":{"row":470,"column":35},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":472,"column":59},"end":{"row":472,"column":88},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":472,"column":59},"end":{"row":472,"column":80},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":473,"column":18},"end":{"row":473,"column":47},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":473,"column":18},"end":{"row":473,"column":39},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":476,"column":16},"end":{"row":476,"column":45},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":476,"column":16},"end":{"row":476,"column":37},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":478,"column":14},"end":{"row":478,"column":43},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":478,"column":14},"end":{"row":478,"column":35},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":493,"column":14},"end":{"row":493,"column":43},"action":"remove","lines":["listSegments_SegmentsSelector"]},{"start":{"row":493,"column":14},"end":{"row":493,"column":35},"action":"insert","lines":["tree_SegmentsSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":343,"column":10},"end":{"row":343,"column":44},"action":"remove","lines":["listitemSegmentsSelector_MyProfile"]},{"start":{"row":343,"column":10},"end":{"row":343,"column":36},"action":"insert","lines":["SegmentsSelector_MyProfile"]}]}],[{"group":"doc","deltas":[{"start":{"row":345,"column":44},"end":{"row":345,"column":78},"action":"remove","lines":["listitemSegmentsSelector_MyProfile"]},{"start":{"row":345,"column":44},"end":{"row":345,"column":70},"action":"insert","lines":["SegmentsSelector_MyProfile"]}]}],[{"group":"doc","deltas":[{"start":{"row":450,"column":16},"end":{"row":450,"column":49},"action":"remove","lines":["listitemSegmentsSelector_AllUsers"]},{"start":{"row":450,"column":16},"end":{"row":450,"column":41},"action":"insert","lines":["SegmentsSelector_AllUsers"]}]}],[{"group":"doc","deltas":[{"start":{"row":451,"column":50},"end":{"row":451,"column":83},"action":"remove","lines":["listitemSegmentsSelector_AllUsers"]},{"start":{"row":451,"column":50},"end":{"row":451,"column":75},"action":"insert","lines":["SegmentsSelector_AllUsers"]}]}],[{"group":"doc","deltas":[{"start":{"row":472,"column":16},"end":{"row":472,"column":50},"action":"remove","lines":["listitemSegmentsSelector_AllGroups"]},{"start":{"row":472,"column":16},"end":{"row":472,"column":42},"action":"insert","lines":["SegmentsSelector_AllGroups"]}]}],[{"group":"doc","deltas":[{"start":{"row":473,"column":50},"end":{"row":473,"column":84},"action":"remove","lines":["listitemSegmentsSelector_AllGroups"]},{"start":{"row":473,"column":50},"end":{"row":473,"column":76},"action":"insert","lines":["SegmentsSelector_AllGroups"]}]}],[{"group":"doc","deltas":[{"start":{"row":493,"column":46},"end":{"row":493,"column":79},"action":"remove","lines":["listitemSegmentsSelector_AllTasks"]},{"start":{"row":493,"column":46},"end":{"row":493,"column":71},"action":"insert","lines":["SegmentsSelector_AllTasks"]}]}]]},"ace":{"folds":[],"scrolltop":5584,"scrollleft":0,"selection":{"start":{"row":493,"column":71},"end":{"row":493,"column":71},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":174,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1423821153076,"hash":"1c9a00ad66143eeaf3c12bf78fee9d43e9c46d87"}