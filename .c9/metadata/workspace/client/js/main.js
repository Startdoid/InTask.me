{"filter":false,"title":"main.js","tooltip":"/client/js/main.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":826,"column":68},"end":{"row":826,"column":69},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":69},"end":{"row":826,"column":70},"action":"insert","lines":["п"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":70},"end":{"row":826,"column":71},"action":"insert","lines":["о"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":71},"end":{"row":826,"column":72},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":72},"end":{"row":826,"column":73},"action":"insert","lines":["с"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":73},"end":{"row":826,"column":74},"action":"insert","lines":["в"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":74},"end":{"row":826,"column":75},"action":"insert","lines":["о"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":75},"end":{"row":826,"column":76},"action":"insert","lines":["е"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":76},"end":{"row":826,"column":77},"action":"insert","lines":["м"]}]}],[{"group":"doc","deltas":[{"start":{"row":826,"column":77},"end":{"row":826,"column":78},"action":"insert","lines":["у"]}]}],[{"group":"doc","deltas":[{"start":{"row":524,"column":1},"end":{"row":525,"column":0},"action":"insert","lines":["",""]},{"start":{"row":525,"column":0},"end":{"row":525,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":525,"column":1},"end":{"row":526,"column":0},"action":"insert","lines":["",""]},{"start":{"row":526,"column":0},"end":{"row":526,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":526,"column":0},"end":{"row":543,"column":80},"action":"insert","lines":["  /**","  * App.Router","  *   экземпляр backbone роутера, который парсит url переданный в клиента и вызывает обновление","  * сегментов соответствующих url, а если есть переданные в url параметры, то их заносит в State ","  * клиентского приложения","  * App.Router вызывается сразу же после создания","  * основные этап от url до отрисовки:","  * url->App.Router (парсинг url)","  * App.Router->state.segmentChange (оповещение состояния приложения о смене сегментов, добавление","  *  предыдущего состояния в стек состояний на случай, если нужно будет вернуться назад на пред. url)","  * state.segmentChange->$loadState (загрузка состояния приложения с сервера, в случае изменения состояния","  *  происходит загрузка данных осн.пользователя)","  * $loadState->segmentSelector ","  * или","  * $loadState->$userSuccess->segmentSelector (собственно переключение/обновление сегмента, ","  *   запрос данных по уже текущему сегменту и вызов функции отрисовки интерфейса какого либо ","  *   сегмента после загрузки данных)","  *****************************************************************************/"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":0},"end":{"row":544,"column":79},"action":"remove","lines":["  //***************************************************************************"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":0},"end":{"row":545,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":0},"end":{"row":544,"column":26},"action":"remove","lines":["  //INTERFACE MANIPULATION"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":0},"end":{"row":545,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":527,"column":4},"end":{"row":527,"column":14},"action":"remove","lines":["App.Router"]},{"start":{"row":527,"column":4},"end":{"row":527,"column":19},"action":"insert","lines":["segmentSelector"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":20},"end":{"row":545,"column":56},"action":"remove","lines":["переключает состояние интерфейса в соответствии с теми сегментами, которые были","  //установлены при обратке роутов в backbone App.Router"]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":6},"end":{"row":530,"column":26},"action":"remove","lines":["экземпляр backbone роутера, который парсит url переданный в клиента и вызывает обновление","  * сегментов соответствующих url, а если есть переданные в url параметры, то их заносит в State ","  * клиентского приложения"]},{"start":{"row":528,"column":6},"end":{"row":529,"column":56},"action":"insert","lines":["переключает состояние интерфейса в соответствии с теми сегментами, которые были","  //установлены при обратке роутов в backbone App.Router"]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":2},"end":{"row":529,"column":3},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":2},"end":{"row":529,"column":3},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":0},"end":{"row":529,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":85},"end":{"row":529,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":85},"end":{"row":529,"column":0},"action":"insert","lines":["",""]},{"start":{"row":529,"column":0},"end":{"row":529,"column":4},"action":"insert","lines":["  * "]}]}],[{"group":"doc","deltas":[{"start":{"row":530,"column":0},"end":{"row":542,"column":0},"action":"remove","lines":["  * App.Router вызывается сразу же после создания","  * основные этап от url до отрисовки:","  * url->App.Router (парсинг url)","  * App.Router->state.segmentChange (оповещение состояния приложения о смене сегментов, добавление","  *  предыдущего состояния в стек состояний на случай, если нужно будет вернуться назад на пред. url)","  * state.segmentChange->$loadState (загрузка состояния приложения с сервера, в случае изменения состояния","  *  происходит загрузка данных осн.пользователя)","  * $loadState->segmentSelector ","  * или","  * $loadState->$userSuccess->segmentSelector (собственно переключение/обновление сегмента, ","  *   запрос данных по уже текущему сегменту и вызов функции отрисовки интерфейса какого либо ","  *   сегмента после загрузки данных)",""]}]}],[{"group":"doc","deltas":[{"start":{"row":531,"column":0},"end":{"row":533,"column":0},"action":"remove","lines":["  //segmentSelector , смена сегментов всегда сопровождается вызовом","  //следующих функций segmengChange()->опрос состояния сервера->segmentSelector()->перерисовка интерфейса",""]}]}],[{"group":"doc","deltas":[{"start":{"row":525,"column":0},"end":{"row":525,"column":1},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":525,"column":0},"end":{"row":526,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":527,"column":6},"end":{"row":528,"column":56},"action":"remove","lines":["переключает состояние интерфейса в соответствии с теми сегментами, которые были","  * установлены при обратке роутов в backbone App.Router"]},{"start":{"row":527,"column":6},"end":{"row":529,"column":36},"action":"insert","lines":["переключение/обновление сегмента, ","  *   запрос данных по уже текущему сегменту и вызов функции отрисовки интерфейса какого либо ","  *   сегмента после загрузки данных"]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":4},"end":{"row":528,"column":6},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":3},"end":{"row":528,"column":4},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":2},"end":{"row":528,"column":3},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":0},"end":{"row":528,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":527,"column":40},"end":{"row":528,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":527,"column":95},"end":{"row":528,"column":0},"action":"insert","lines":["",""]},{"start":{"row":528,"column":0},"end":{"row":528,"column":4},"action":"insert","lines":["  * "]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":4},"end":{"row":529,"column":6},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":3},"end":{"row":529,"column":4},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":2},"end":{"row":529,"column":3},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":529,"column":0},"end":{"row":529,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":528,"column":37},"end":{"row":529,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":438,"column":46},"end":{"row":439,"column":0},"action":"insert","lines":["",""]},{"start":{"row":439,"column":0},"end":{"row":439,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":0},"end":{"row":440,"column":24},"action":"insert","lines":["$$('button1').define(\"label\", \"New value\");","$$('button1').refresh();"]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":0},"end":{"row":440,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":2},"end":{"row":440,"column":4},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":4},"end":{"row":440,"column":6},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":0},"end":{"row":439,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":2},"end":{"row":439,"column":4},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":4},"end":{"row":439,"column":6},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":6},"end":{"row":439,"column":8},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":6},"end":{"row":440,"column":8},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":8},"end":{"row":440,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":440,"column":9},"end":{"row":440,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":12},"end":{"row":439,"column":19},"action":"remove","lines":["button1"]},{"start":{"row":439,"column":12},"end":{"row":439,"column":32},"action":"insert","lines":["toggle_Users_Members"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":48},"end":{"row":439,"column":49},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":48},"end":{"row":439,"column":49},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":42},"end":{"row":439,"column":43},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":42},"end":{"row":439,"column":43},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":51},"end":{"row":439,"column":52},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":51},"end":{"row":439,"column":52},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":52},"end":{"row":439,"column":61},"action":"remove","lines":["New value"]},{"start":{"row":439,"column":52},"end":{"row":439,"column":53},"action":"insert","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":53},"end":{"row":439,"column":54},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":54},"end":{"row":439,"column":55},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":54},"end":{"row":439,"column":55},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":53},"end":{"row":439,"column":54},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":52},"end":{"row":439,"column":53},"action":"remove","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":52},"end":{"row":439,"column":53},"action":"insert","lines":["Л"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":52},"end":{"row":439,"column":53},"action":"remove","lines":["Л"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":52},"end":{"row":439,"column":53},"action":"insert","lines":["Д"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":53},"end":{"row":439,"column":54},"action":"insert","lines":["р"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":54},"end":{"row":439,"column":55},"action":"insert","lines":["у"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":55},"end":{"row":439,"column":56},"action":"insert","lines":["з"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":56},"end":{"row":439,"column":57},"action":"insert","lines":["ь"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":57},"end":{"row":439,"column":58},"action":"insert","lines":["я"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["ж"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["ж"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"remove","lines":["э"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":58},"end":{"row":439,"column":59},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":439,"column":8},"end":{"row":439,"column":61},"action":"remove","lines":["$$('toggle_Users_Members').define('label', 'Друзья');"]}]}],[{"group":"doc","deltas":[{"start":{"row":437,"column":8},"end":{"row":438,"column":0},"action":"insert","lines":["",""]},{"start":{"row":438,"column":0},"end":{"row":438,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":437,"column":8},"end":{"row":437,"column":61},"action":"insert","lines":["$$('toggle_Users_Members').define('label', 'Друзья');"]}]}],[{"group":"doc","deltas":[{"start":{"row":437,"column":8},"end":{"row":437,"column":61},"action":"remove","lines":["$$('toggle_Users_Members').define('label', 'Друзья');"]}]}],[{"group":"doc","deltas":[{"start":{"row":436,"column":8},"end":{"row":437,"column":0},"action":"insert","lines":["",""]},{"start":{"row":437,"column":0},"end":{"row":437,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":436,"column":8},"end":{"row":436,"column":61},"action":"insert","lines":["$$('toggle_Users_Members').define('label', 'Друзья');"]}]}],[{"group":"doc","deltas":[{"start":{"row":438,"column":0},"end":{"row":438,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":438,"column":0},"end":{"row":438,"column":6},"action":"remove","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":438,"column":0},"end":{"row":439,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":840,"column":0},"end":{"row":876,"column":9},"action":"remove","lines":["  $$('treetable_Groups').attachEvent('onAfterEditStart', function(id) {","    App.State.groupstable_ItemEdited = id;","  });","","  $$('treetable_Groups').attachEvent('onAfterEditStop', function(state, editor, ignoreUpdate) {","    var ItemEdited = App.State.groupstable_ItemEdited;","    var ItemSelected = App.State.groupstable_ItemSelected;","    if (editor.column === 'name') {","      if(ItemEdited != ItemSelected) {","        this.getItem(ItemEdited).name = state.old;","        this.updateItem(ItemEdited);","        App.State.groupstable_ItemEdited = null;","      } else {","        //var selectGroup = App.State.groups.get(App.State.groupstable_ItemEdited);","        //selectGroup.set({ 'name': state.value });","      }","    }","  });","  ","  // $$('treetable_Tasks').attachEvent('onAfterEditStart', function(id) {","  //   App.State.tasktable_ItemEdited = id;","  // });","","  // $$('treetable_Tasks').attachEvent('onAfterEditStop', function(state, editor, ignoreUpdate) {","  //   var ItemEdited = App.State.tasktable_ItemEdited;","  //   var ItemSelected = App.State.tasktable_ItemSelected;","  //   if (editor.column === 'name') {","  //     if(ItemEdited != ItemSelected) {","  //       this.getItem(ItemEdited).name = state.old;","  //       this.updateItem(ItemEdited);","  //       App.State.tasktable_ItemEdited = null;","  //     } else {","  //       var selectTask = App.State.tasks.get(App.State.tasktable_ItemEdited);","  //       selectTask.set({ 'name': state.value });","  //     }","  //   }","  // }); "]}]}],[{"group":"doc","deltas":[{"start":{"row":840,"column":0},"end":{"row":841,"column":2},"action":"remove","lines":["","  "]}]}],[{"group":"doc","deltas":[{"start":{"row":840,"column":0},"end":{"row":841,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":862,"column":0},"end":{"row":863,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":863,"column":0},"end":{"row":864,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":863,"column":0},"end":{"row":899,"column":9},"action":"insert","lines":["  $$('treetable_Groups').attachEvent('onAfterEditStart', function(id) {","    App.State.groupstable_ItemEdited = id;","  });","","  $$('treetable_Groups').attachEvent('onAfterEditStop', function(state, editor, ignoreUpdate) {","    var ItemEdited = App.State.groupstable_ItemEdited;","    var ItemSelected = App.State.groupstable_ItemSelected;","    if (editor.column === 'name') {","      if(ItemEdited != ItemSelected) {","        this.getItem(ItemEdited).name = state.old;","        this.updateItem(ItemEdited);","        App.State.groupstable_ItemEdited = null;","      } else {","        //var selectGroup = App.State.groups.get(App.State.groupstable_ItemEdited);","        //selectGroup.set({ 'name': state.value });","      }","    }","  });","  ","  // $$('treetable_Tasks').attachEvent('onAfterEditStart', function(id) {","  //   App.State.tasktable_ItemEdited = id;","  // });","","  // $$('treetable_Tasks').attachEvent('onAfterEditStop', function(state, editor, ignoreUpdate) {","  //   var ItemEdited = App.State.tasktable_ItemEdited;","  //   var ItemSelected = App.State.tasktable_ItemSelected;","  //   if (editor.column === 'name') {","  //     if(ItemEdited != ItemSelected) {","  //       this.getItem(ItemEdited).name = state.old;","  //       this.updateItem(ItemEdited);","  //       App.State.tasktable_ItemEdited = null;","  //     } else {","  //       var selectTask = App.State.tasks.get(App.State.tasktable_ItemEdited);","  //       selectTask.set({ 'name': state.value });","  //     }","  //   }","  // }); "]}]}]]},"ace":{"folds":[],"scrolltop":10532,"scrollleft":0,"selection":{"start":{"row":901,"column":6},"end":{"row":901,"column":15},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":472,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1430310543841,"hash":"7e5cb109fbf25039e2b349a633c912b91f649fe2"}